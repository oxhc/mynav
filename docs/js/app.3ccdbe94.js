(function(){var t={4346:function(t,e,n){"use strict";var a=n(9242),i=n(3396),s=n(7139);const o=(0,i.Uk)("刷新"),l={key:0},r={class:"container"},c={style:{margin:"0 3px"}},u={class:"container"},d={class:"container"},p={class:"dialog-footer"},v=(0,i.Uk)(" Confirm ");function h(t,e,n,a,h,g){const _=(0,i.up)("el-button"),f=(0,i.up)("el-tag"),m=(0,i.up)("el-space"),w=(0,i.up)("Dir_web"),y=(0,i.up)("Nav_web"),k=(0,i.up)("el-input"),b=(0,i.up)("el-form-item"),D=(0,i.up)("el-form"),C=(0,i.up)("el-dialog"),O=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i._)("div",null,[(0,i.Wm)(_,{onClick:g.fresh,type:"primary"},{default:(0,i.w5)((()=>[o])),_:1},8,["onClick"])]),h.nav_history.length>=2?((0,i.wg)(),(0,i.iD)("div",l,(0,s.zw)(h.nav_history[h.nav_history.length-1].title),1)):(0,i.kq)("",!0)]),(0,i._)("div",r,[(0,i.Wm)(m,{spacer:" > "},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.nav_history,((t,e)=>((0,i.wg)(),(0,i.j4)(f,{style:{cursor:"pointer"},key:e,onClick:e=>g.add_switch_folder(t)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(t.title),1)])),_:2},1032,["onClick"])))),128))])),_:1})]),(0,i._)("div",c,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(m,{wrap:"",style:{"justify-content":"space-between"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.nav_data.filter((t=>"dir"===t.type)),((t,e)=>((0,i.wg)(),(0,i.j4)(w,{class:"item",key:e,dir:t,onClick:e=>g.switch_folder(t)},null,8,["dir","onClick"])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.block,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"block_item",key:e})))),128))])),_:1})])),[[O,h.loading]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.nav_data.filter((t=>"a"===t.type)),((t,e)=>((0,i.wg)(),(0,i.j4)(y,{class:"nav_item",key:e,nav:t},null,8,["nav"])))),128)),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.block,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"nav_block_item",key:e})))),128))])),[[O,h.loading]])]),(0,i.Wm)(C,{fullscreen:"","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modelValue:h.showInputPassDialog,"onUpdate:modelValue":e[1]||(e[1]=t=>h.showInputPassDialog=t),title:"请输入密码"},{footer:(0,i.w5)((()=>[(0,i._)("span",p,[(0,i.Wm)(_,{type:"primary",onClick:g.confirm_pass},{default:(0,i.w5)((()=>[v])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{label:"密码"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{type:"password",modelValue:h.pass,"onUpdate:modelValue":e[0]||(e[0]=t=>h.pass=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var g=n(8082),_=n.n(g),f={decrypt(t,e,n){const a=_().enc.Utf8.parse(e),i=_().enc.Utf8.parse(n),s=_().AES.decrypt(t,a,{iv:i,mode:_().mode.CBC,padding:_().pad.Pkcs7}).toString(_().enc.Utf8);return s},encrypt(t,e,n){const a=_().enc.Utf8.parse(e),i=_().enc.Utf8.parse(n),s=_().AES.encrypt(t,a,{iv:i,mode:_().mode.CBC,padding:_().pad.Pkcs7});return s.toString()}},m=n(9702),w=n.n(m);const y={class:"dir"},k={class:"logo"},b={style:{"text-align":"center"}};function D(t,e,n,a,o,l){const r=(0,i.up)("el-image");return(0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",k,[(0,i.Wm)(r,{style:{height:"40px"},src:"./img/folder.png"})]),(0,i._)("div",b,(0,s.zw)(n.dir.title),1)])}var C={name:"Dir_web",props:["dir"]},O=n(89);const I=(0,O.Z)(C,[["render",D],["__scopeId","data-v-0ae005c8"]]);var S=I;const j={class:"nav_logo"},U=["src"],x={key:0};function W(t,e,n,a,o,l){return(0,i.wg)(),(0,i.iD)("div",{class:"nav",onClick:e[0]||(e[0]=(...t)=>l.open_nav&&l.open_nav(...t))},[(0,i._)("div",j,[(0,i._)("img",{src:n.nav.icon},null,8,U)]),(0,i._)("div",null,[(0,i.Uk)((0,s.zw)(l.omi(n.nav.title,16))+" ",1),n.nav.title.length>=16?((0,i.wg)(),(0,i.iD)("span",x,"...")):(0,i.kq)("",!0)])])}function P(t,e){return null!=t&&t.length?t.length<=e?t:t.slice(0,e):""}var L={name:"Nav_web",props:["nav"],methods:{omi:P,open_nav(){window.open(this.nav.url,"_blank")}}};const N=(0,O.Z)(L,[["render",W],["__scopeId","data-v-de88dc8e"]]);var V=N,H={name:"App",components:{Nav_web:V,Dir_web:S},data(){return{nav_data:[],pass:"",showInputPassDialog:!1,nav_history:[],block:[1,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3,2,3],loading:!1}},methods:{fresh(){this.nav_history=[],localStorage.removeItem("nav_data"),this.startup()},add_switch_folder(t){this.loading=!0,setTimeout((()=>{this.nav_data=t.itemList,this.nav_history=this.nav_history.slice(0,this.nav_history.findIndex((e=>e.title===t.title))+1),this.loading=!1}),200)},switch_folder(t){this.loading=!0,setTimeout((()=>{this.nav_data=t.itemList,this.nav_history.push(t),this.loading=!1}),200)},get_navData(t,e){let n=localStorage.getItem("nav_data");null!=n?(this.$message.success("已从localstorage中获取数据"),t(JSON.parse(n))):e()},get_pass(t,e){let n=localStorage.getItem("pass");null!=n?(this.$message.success("已从localstorage中获取密码"),t(n)):e()},get_data(t){let e=""+window.location;e.endsWith("?")&&(e=e.substring(0,e.length-1)),console.log("data path:",e),fetch(e+"data.json.pub").then((t=>t.text())).then((e=>{let n="";try{n=f.decrypt(e,w()(t),w()(w()(t)))}catch(s){return this.$message.error("密码错误, 请重试"),void setTimeout((()=>{this.input_pass()}),1e3)}this.showInputPassDialog=!1;let a=JSON.parse(n);this.nav_data=a.itemList[0].itemList;let i={title:"/",url:null,itemList:this.nav_data};this.nav_history.push(i),localStorage.setItem("nav_data",JSON.stringify(this.nav_data)),localStorage.setItem("pass",t),console.log(this.nav_data),this.$message.success("获取远程数据成功")}))},input_pass(){this.showInputPassDialog=!0},confirm_pass(){this.get_data(this.pass)},startup(){this.get_navData((t=>{this.nav_data=t;let e={title:"/",url:null,itemList:this.nav_data};this.nav_history.push(e)}),(()=>{this.get_pass((t=>{this.get_data(t)}),(()=>{this.input_pass()}))}))}},created(){this.startup()}};const K=(0,O.Z)(H,[["render",h]]);var T=K,Y=n(837);n(4415);const z=(0,a.ri)(T);z.use(Y.Z),z.mount("#app")},2480:function(){}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,i,s){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],s=t[u][2];for(var l=!0,r=0;r<a.length;r++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(l=!1,s<o&&(o=s));if(l){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[a,i,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,s,o=a[0],l=a[1],r=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(r)var u=r(n)}for(e&&e(a);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(u)},a=self["webpackChunkmynav"]=self["webpackChunkmynav"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(4346)}));a=n.O(a)})();
//# sourceMappingURL=app.3ccdbe94.js.map